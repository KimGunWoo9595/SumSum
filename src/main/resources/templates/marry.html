<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>썸썸</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;300&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Jua&display=swap" rel="stylesheet">
    <link href="https://webfontworld.github.io/goodchoice/Jalnan.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/marry.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>
<style>
    body{
        background-color: lightyellow;
    }
    .top-header a{
        color: black;
        text-decoration: none;
    }
</style>
<body>
<!-- 상단 고정 바 -->
<div class="top-header">
    <div class="top-header-wrap">
        <button class="menuBtn" data-bs-toggle="offcanvas" data-bs-target="#offcanvasExample" aria-controls="offcanvasExample" id="slidebutton">
            <span class="a-alarmBadge" style="top: 11px; right: 9px;"></span>
            <span class="menuBar"></span>
            <span class="menuBar" style="width:19px; height: 4px;"></span>
            <span class="menuBar"></span>
        </button>
        <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasExample" aria-labelledby="offcanvasExampleLabel">
            <div class="offcanvas-header">
                <h5 class="offcanvas-title" id="offcanvasExampleLabel">
                    <div class = "sidebar-title">
                        <strong>썸썸</strong>
                    </div>
                </h5>
                <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>
            <div class="sidebar-body">
                <div class="" th:object="${user}">
                    <a href="/login">
                        <img style="width: 70px; height: 70px; margin-left: -94px;" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR3MAdEhs1pDTSXdLl7RZn9t_WwnWNwsnt5ZA&usqp=CAU">
                    </a>
                    <a th:if="${session.userName ==null}" class="user-info" href="/login">
                        로그인하기
                    </a>
                    <a th:if="${session.userName}" th:text="${session.userName} + '님 어서오세요.'" class="user-info" href="/getMyIdeal"></a>
                </div>
                <div class="main-link">
                    <a href="/myPagePoint" th:if="${session.userList != null}" >
                        <img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNzUycHQiIGhlaWdodD0iNzUycHQiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDc1MiA3NTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiA8cGF0aCBkPSJtMzA0Ljk2IDE4Ni40OWMtMzcuODQ0IDAtNzIuMTQ4IDcuNDM3NS05Ny44MjQgMjAuMjczLTI1LjY3NiAxMi44NDQtNDQuMjUgMzEuOTk2LTQ0LjI1IDU1LjY0OHYyMjcuMzJjMCAyMy40MzQgMTguMzcxIDQyLjQ5MiA0NC4xMDIgNTUuMzUyIDI1LjczIDEyLjg1OSA2MC4wODYgMjAuNDIyIDk3Ljk3MyAyMC40MjIgMzEuODQ0IDAgNjEuMTQ1LTUuNDM3NSA4NC45NDktMTQuODAxIDE4LjYwNSA5LjQyOTcgMzkuNjEzIDE0LjgwMSA2MS44NjMgMTQuODAxIDc1LjczOCAwIDEzNy4zNC02MS42MDIgMTM3LjM0LTEzNy4zNHMtNjEuNjAyLTEzNy4zNC0xMzcuMzQtMTM3LjM0Yy0xLjYyODkgMC0zLjI2OTUgMC4wODk4NDQtNC44ODI4IDAuMTQ4NDR2LTI4LjU2MmMwLTIzLjY1Ni0xOC40MjYtNDIuODA5LTQ0LjEwMi01NS42NDUtMjUuNjc2LTEyLjgzNi01OS45OC0yMC4yNzMtOTcuODI0LTIwLjI3M3ptMCAxOS4wOWMzNS4zOTEgMCA2Ny4zNjcgNy4zMzk4IDg5LjY4NCAxOC41IDIyLjMxNiAxMS4xNiAzMy41OTQgMjUuMzY3IDMzLjU5NCAzOC4zMzItNC40MDIzIDIwLjExMy0xOS4xMzcgMzEuMTgtMzMuNTk0IDM4LjE4NC0yMi4zMTYgMTEuMTYtNTQuMjkzIDE4LjUtODkuNjg0IDE4LjVzLTY3LjM2Ny03LjMzOTgtODkuNjg0LTE4LjVjLTE2LjUzMS04LjU2NjQtMzEuNTgyLTIxLjYyMS0zMy41OTQtMzguMTg0IDAtMTIuOTYxIDExLjI3Ny0yNy4xNzIgMzMuNTk0LTM4LjMzMiAyMi4zMTYtMTEuMTU2IDU0LjI4OS0xOC40OTYgODkuNjg0LTE4LjQ5NnptLTEyMy4xMyA5NS4zMTJjNy4wMTU2IDYuNDY0OCAxNS42OCAxMi4yMDcgMjUuMzA5IDE3LjAyIDI1LjY3NiAxMi44MzYgNTkuOTggMjAuMjczIDk3LjgyNCAyMC4yNzMgMTYuNDE0IDAgMzIuMTAyLTEuNTA3OCA0Ni43NjYtNC4xNDQ1LTExLjE3MiAxMS44NjctMjAuMjI3IDI1Ljc1NC0yNi42NDEgNDAuOTk2LTYuNTUwOCAwLjU3NDIyLTEzLjI1NCAxLjAzNTItMjAuMTI5IDEuMDM1Mi0zNS4zMzYgMC02Ny4yNjYtNy4zNjMzLTg5LjUzNS0xOC41LTIyLjI3LTExLjEzMy0zMy41OTQtMjUuMTM3LTMzLjU5NC0zOC4zMjh6bTI2OS45NCA4Ljg3ODljNjUuNSAwIDExOC4zOSA1Mi44OTUgMTE4LjM5IDExOC4zOXMtNTIuODk1IDExOC4zOS0xMTguMzkgMTE4LjM5LTExOC4zOS01Mi44OTUtMTE4LjM5LTExOC4zOSA1Mi44OTUtMTE4LjM5IDExOC4zOS0xMTguMzl6bS0yNjkuOTQgNDcuOTQ5YzYuOTcyNyA2LjQxNDEgMTUuNTgyIDEyLjA4MiAyNS4xNiAxNi44NzEgMjUuNzE5IDEyLjg1OSA2MC4wNzQgMjAuNDIyIDk3Ljk3MyAyMC40MjIgNC42Mjg5IDAgOS4xMTMzLTAuMjE0ODQgMTMuNjE3LTAuNDQ1MzEtMi43MDcgMTAuNzQyLTQuMTQ0NSAyMi4wMjMtNC4xNDQ1IDMzLjU5NCAwIDEuNTI3MyAwLjA5NzY1NiAzLjA3MDMgMC4xNDg0NCA0LjU4OTgtMy4xNzU4IDAuMTI1LTYuMzU5NCAwLjE0ODQ0LTkuNjIxMSAwLjE0ODQ0LTM1LjMzNiAwLTY3LjI2Ni03LjM2MzMtODkuNTM1LTE4LjUtMjIuMjczLTExLjEzMy0zMy41OTgtMjUuMTM3LTMzLjU5OC0zOC4zMjh6bTAgNTYuODI4YzYuOTcyNyA2LjQxNDEgMTUuNTgyIDEyLjA4MiAyNS4xNiAxNi44NzEgMjUuNzE5IDEyLjg1OSA2MC4wNzQgMjAuNDIyIDk3Ljk3MyAyMC40MjIgMy44ODY3IDAgNy43NS0wLjExMzI4IDExLjU0My0wLjI5Mjk3IDIuMjUgMTMuMDQ3IDYuMzI0MiAyNS40OCAxMS45ODggMzctNy42MzY3IDAuNzYxNzItMTUuNDQ5IDEuMTgzNi0yMy41MzEgMS4xODM2LTM1LjMzNiAwLTY3LjI2Ni03LjM2MzMtODkuNTM1LTE4LjUtMjIuMjczLTExLjEzNy0zMy41OTgtMjUuMTQxLTMzLjU5OC0zOC4zMjh6bTAgNTYuODI4YzYuOTcyNyA2LjQxNDEgMTUuNTgyIDEyLjA4MiAyNS4xNiAxNi44NzEgMjUuNzE5IDEyLjg1OSA2MC4wNzQgMjAuNDIyIDk3Ljk3MyAyMC40MjIgMTEuNzkzIDAgMjMuMjQ2LTAuNjY3OTcgMzQuMTg4LTIuMDcwMyA4LjMyNDIgMTEuOTMgMTguNDQ5IDIyLjMyIDMwLjA0MyAzMS4wNzgtMTguNjggNS40OTIyLTQwLjY3MiA4Ljg3ODktNjQuMjMgOC44Nzg5LTM1LjMyOCAwLTY3LjI1LTcuMzYzMy04OS41MzUtMTguNS0yMi4yODktMTEuMTI5LTMzLjU5OC0yNS4xNDEtMzMuNTk4LTM4LjMyNHoiLz4KPC9zdmc+Cg==">
                        포인트 내역
                    </a>
                    <a href="/list"  th:if="${session.userList != null}" >
                        <img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNzUycHQiIGhlaWdodD0iNzUycHQiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDc1MiA3NTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiA8cGF0aCBkPSJtNTYwLjI1IDU0MS44NWgtMzY3Ljg2Yy0xOS43MDMgMC0zNS43MDMtMTcuOTQ1LTM1LjcwMy00MC4wNTF2LTI1MC44NWMwLTIyLjEwNSAxNi00MC4wNTEgMzUuNzAzLTQwLjA1MWgzNjcuOTVjOS43MTA5IDAgMTguNzc3IDQuMzQ3NyAyNS41MjcgMTIuMTE3IDYuNTY2NCA3LjQ5MjIgMTAuMTc2IDE3LjQ4IDEwLjE3NiAyNy45MzR2MjUwLjg1YzAuMDAzOTA2IDIyLjAxMi0xNi4wOSA0MC4wNTEtMzUuNzkzIDQwLjA1MXptLTM2Ny44Ni0zMTcuMDhjLTEyLjAyMyAwLTIxLjgyOCAxMS43NDYtMjEuODI4IDI2LjE3NnYyNTAuODVjMCAxNC40MyA5LjgwNDcgMjYuMTc2IDIxLjgyOCAyNi4xNzZoMzY3Ljk1YzEyLjAyMyAwIDIxLjgyOC0xMS43NDYgMjEuODI4LTI2LjE3NmwwLjAwMzkwNi0yNTAuODVjMC03LjEyMTEtMi40MDYyLTEzLjc4MS02Ljc1MzktMTguODcxLTQuMDcwMy00LjcxODgtOS40MzM2LTcuMzA4Ni0xNS4wNzgtNy4zMDg2em0xNy4yOTcgMjYxLjk1Yy0xLjY2NDEgMC0zLjMyODEtMC41NTQ2OS00LjYyNS0xLjc1NzgtMi44NjcyLTIuNTg5OC0zLjE0NDUtNi45Mzc1LTAuNTU0NjktOS44MDQ3bDEwNS43Mi0xMTguODYtMTA5LjA1LTg1LjM3MWMtMy4wNTA4LTIuNDA2Mi0zLjUxNTYtNi43NTM5LTEuMjAzMS05LjcxMDkgMi40MDYyLTMuMDUwOCA2Ljc1MzktMy41MTU2IDkuNzEwOS0xLjIwMzFsMTY2LjU5IDEzMC41MSA0OC43NDYtMzguMTk5YzAuMDkzNzUtMC4wOTM3NSAwLjE4MzU5LTAuMDkzNzUgMC4yNzczNC0wLjE4MzU5bDExNy41Ni05Mi4wMzVjMy4wNTA4LTIuNDA2MiA3LjM5ODQtMS44NTE2IDkuNzEwOSAxLjIwMzEgMi40MDYyIDMuMDUwOCAxLjg1MTYgNy4zOTg0LTEuMjAzMSA5LjcxMDlsLTExMS42NCA4Ny40MDYgMTAxLjU2IDEwOS4wNWMyLjU4OTggMi43NzM0IDIuNDk2MSA3LjIxNDgtMC4zNzEwOSA5LjgwNDctMi43NzM0IDIuNTg5OC03LjIxNDggMi40OTYxLTkuODA0Ny0wLjM3MTA5bC0xMDIuMzktMTA5Ljg5LTQ4LjA5OCAzNy43NDJjLTIuNDk2MSAxLjk0MTQtNi4wMTE3IDEuOTQxNC04LjYwMTYgMGwtNTAuODcxLTM5Ljg2Ny0xMDYuMzcgMTE5LjVjLTEuMjk2OSAxLjU3NDItMy4xNDQ1IDIuMzEyNS01LjA4OTggMi4zMTI1eiIvPgo8L3N2Zz4K">
                        쪽지
                    </a>
                    <a href="/company">
                        <img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNzUycHQiIGhlaWdodD0iNzUycHQiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDc1MiA3NTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiA8Zz4KICA8cGF0aCBkPSJtNDk2LjExIDE4Mi4wN2MtMjguMDI3LTMuMzE2NC01Ni43ODEgMy41NTA4LTgwLjk3MyAxOS4zNC0xNi40NDkgMTAuNzM0LTI5Ljc4OSAyNS4xNzItMzkuMTg4IDQyLjA0My05LjQwMjMtMTYuODc1LTIyLjc0Mi0zMS4zMDUtMzkuMTg4LTQyLjA0My0yNC4xOTEtMTUuNzg5LTUyLjk0OS0yMi42NTYtODAuOTczLTE5LjM0LTI3LjI2MiAzLjIyMjctNTEuNzE1IDE2LjI2Mi02OC44NjMgMzYuNzA3LTE5LjE1NiAyMi44MzYtMjkuMjgxIDU0LjcxNS0yOS4yODEgOTIuMjA3IDAgMTI0LjAyIDIwMy4wMiAyNTYuNzkgMjExLjY3IDI2Mi4zOCAyLjExMzMgMS4zNjcyIDQuNDg0NCAyLjAyMzQgNi44MjgxIDIuMDIzNCAwLjE0MDYyIDAgMC4yODEyNS0wLjAyMzQzOCAwLjQyMTg4LTAuMDIzNDM4IDAuMTM2NzIgMC4wMDM5MDcgMC4yNzM0NCAwLjAyMzQzOCAwLjQxNzk3IDAuMDIzNDM4IDIuMzU1NSAwIDQuNzM0NC0wLjY2MDE2IDYuODU5NC0yLjA0MyA4LjU4OTgtNS41OTM4IDIxMC40Mi0xMzguMzcgMjEwLjQyLTI2Mi4zNiAwLTM3LjQ4NC0xMC4xMjUtNjkuMzcxLTI5LjI3Ny05Mi4yMDctMTcuMTY0LTIwLjQ0NS00MS42MTctMzMuNDg0LTY4Ljg3NS0zNi43MDd6bS0yNS4xNjQgMjg5Ljg2Yy0zOS4zNTUgMzcuMDU1LTc5LjE5NSA2NS40OTYtOTQuNDEgNzUuOTUzLTE1LjIzOC0xMC40MDYtNTUuMTQ4LTM4LjcxNS05NC43MzgtNzUuNzI3LTQ1LjE0OC00Mi4yMTUtOTguOTY1LTEwNC40NC05OC45NjUtMTYxLjE4IDAtMzEuNDg4IDguMDg5OC01Ny43NzcgMjMuMzkxLTc2LjAxNiAxMy4xOTktMTUuNzM4IDMxLjM1OS0yNS4zNzkgNTIuNTIzLTI3Ljg3OSA0MS4xMDItNC44NjMzIDkxLjc4OSAxOS4xMTMgMTA0Ljc1IDczLjEyNSAxLjM3ODkgNS43NDYxIDYuNDkyMiA5LjYwNTUgMTIuMTQ4IDkuNjQwNiAwLjA5NzY1NyAwLjAwMzkwNyAwLjE5OTIyIDAuMDAzOTA3IDAuMjk2ODggMC4wMDM5MDcgMC4xMDU0NyAwIDAuMjA3MDMgMCAwLjMxMjUtMC4wMDM5MDcgNS42NTYyLTAuMDQyOTY4IDEwLjc2Ni0zLjkwMjMgMTIuMTQ1LTkuNjQwNiAxMi45NjEtNTQuMDEyIDYzLjY2NC03Ny45ODggMTA0Ljc1LTczLjEyNSAyMS4xNiAyLjUwMzkgMzkuMzIgMTIuMTQ1IDUyLjUyMyAyNy44NzkgMTUuMzAxIDE4LjI0MiAyMy4zOTEgNDQuNTI3IDIzLjM5MSA3Ni4wMTYgMCA1Ni42NzYtNTMuMzU1IDExOC44LTk4LjExNyAxNjAuOTV6Ii8+CiAgPHBhdGggZD0ibTQ2Ny43NSAyMzUuMDFjLTYuOTU3IDAuMDc0MjE5LTEyLjUzNSA1Ljc3MzQtMTIuNDYxIDEyLjczIDAuMDc0MjE5IDYuOTEwMiA1LjY5NTMgMTIuNDYxIDEyLjU5NCAxMi40NjFoMC4xMzY3MmMxMi4wMTItMC4xMTcxOSAyMi45MSA0LjEwOTQgMzAuODIgMTEuOTM4IDkuODMyIDkuNzI2NiAxNS4wMjcgMjQuODgzIDE1LjAyNyA0My44MjggMCA2Ljk1NyA1LjY0MDYgMTIuNTk4IDEyLjU5OCAxMi41OTggNi45NTcgMCAxMi41OTgtNS42NDA2IDEyLjU5OC0xMi41OTggMC0zMi42MjUtMTIuMjM4LTUxLjU3OC0yMi41LTYxLjczNC0xMi43MzgtMTIuNTk4LTMwLjA1NS0xOS40MjYtNDguODEyLTE5LjIyM3oiLz4KIDwvZz4KPC9zdmc+Cg==">
                        썸썸 소개
                    </a>
                    <a href="/myPageText" th:if="${session.userList != null}" >
                        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR3MAdEhs1pDTSXdLl7RZn9t_WwnWNwsnt5ZA&usqp=CAU">
                        계정 설정
                    </a>
                </div>
            </div>
            <div class="menuList">
                <a class="item" href="/idealList">
                    이상형 찾기
                </a>
                <a class="item" href="/marry">
                    나의 결혼이상형
                </a>
                <a class="item" href="/love">
                    나의 연애이상형
                </a>
                <a class="item" href="/board/appilBoardList">
                    어필하기
                </a>
                <a class="item" href="/board/boardList">
                    고민상담
                </a>
                <a class="item" href="/board/reviewBoardList">
                    후기
                </a>
            </div>
            <div class="signup-btn" th:if="${session.userList == null}" >
                <a href="/sign">
                    회원가입
                </a>
            </div>
        </div>
        <h1 class="main-logo">
            <a href="/main">
                <img src="/img/sumsum_logo.png">
            </a>
        </h1>
        <div class="right-header">
            <!-- 포인트 점수 받아오기 -->
            <a class="point" href="/myPagePoint" th:text="${point == null ? '잔여포인트 0원' : '잔여포인트 ' + point + '원'}">
                잔여포인트 0점
            </a>
            <!-- 채팅 받아오기 -->
            <a class="chatting" href="/list">
                쪽지
            </a>
            <!--로그인 회원 이름-->
            <a th:if="${session.userList != null}" class="login" th:text="${session.userList.userName + '님 환영합니다.'}">
            </a>
            <!-- 로그인 -->
            <a th:if="${session.userList == null}" class="login" href="/login">
                로그인
            </a>
            <!-- 회원가입 -->
            <a th:if="${session.userList == null}" class="signup" href="/sign">
                회원가입
            </a>
            <a th:if="${session.userList != null}" class="signup" href="/user/logout">
                로그아웃
            </a>
        </div>
    </div>
</div>
<div class="choice_love_box">
    <div class="choice_ment"style="text-align: center;">
        <span class="coralHtag">썸썸 이상형 질문 작성하기</span>
    </div>
    <div class="choice_ment_p" style="text-align: center;">
        <p>내 짝은 어디에 있을까?</p>
        <p>성의껏 작성할수록 매칭 확률 UP!</p>
        <p>질문지 작성 후 매칭이 시작됩니다!</p>
    </div>


        <div class="choice_love1">
            <div class="choice_love" style="position: relative;left: -54px;">
                <form action="/idealRegister" id="registForm" method="post" ><!--onsubmit="marry"-->
                <!-- 이름 -->
                <div class="sumchoice">
                    <div class="sumchoice_age">
                        <label class="label" for="age" >이름</label>
                        <div class="input">
                            <input type="text" name="userName" id="userName" th:value="${session.userName}" readonly >
                        </div>
                    </div>
                </div>
                <!-- 나이 -->
                <div class="sumchoice">
                    <div class="sumchoice_age">
                        <label class="label" for="age" >나이</label>
                        <div class="input">
                            <input type="number" name="age" id="age" maxlength="2" min='20' max='40' step='1'placeholder="숫자만 입력해 주세요." required >
                        </div>
                    </div>
                </div>
                <!-- 성별 -->
                <div class="sumchoice">
                    <div class="sumchoice_age">
                        <label class="label" for="gender">성별</label>
                        <div class="love_choice_option">
                            <select name="gender"id="gender" class="" required>
                                <option value="">성별을 체크해주세요</option>
                                <option value="남">남</option>
                                <option value="여">여</option>
                            </select>
                        </div>
                    </div>
                </div>
                <!--거주지-->
                <div class="sumchoice">
                    <div class="sumchoice_age">
                        <label class="label" >거주지</label>
                        <div class="love_choice_option">
                            <select name ="residence"id="residence" class="" required>
                                <option value="">거주지를 체크해주세요</option>
                                <option value="서울">서울</option>
                                <option value="경기">경기</option>
                                <option value="강원">강원</option>
                                <option value="충청">충청</option>
                                <option value="경상">경상</option>
                                <option value="전라">전라</option>
                                <option value="제주">제주</option>
                                <option value="해외">해외</option>
                            </select>
                        </div>
                    </div>
                </div>
                <!-- MBTI -->
                <div class="sumchoice">
                    <div class="sumchoice_age">
                        <label class="label" for="mbti">MBTI</label>
                        <div class="love_choice_option">
                            <select name ="mbti" id="mbti" class=""required>
                                <option value="">MBTI를 체크해주세요</option>
                                <option value="ENFP">ENFP</option>
                                <option value="ENFJ">ENFJ</option>
                                <option value="ENTP">ENTP</option>
                                <option value="ENTJ">ENTJ</option>
                                <option value="ESFP">ESFP</option>
                                <option value="ESFJ">ESFJ</option>
                                <option value="ESTP">ESTP</option>
                                <option value="ESTJ">ESTJ</option>
                                <option value="INFP">INFP</option>
                                <option value="INFJ">INFJ</option>
                                <option value="INTP">INTP</option>
                                <option value="INTJ">INTJ</option>
                                <option value="ISFP">ISFP</option>
                                <option value="ISFJ">ISFJ</option>
                                <option value="ISTP">ISTP</option>
                                <option value="ISTJ">ISTJ</option>
                                <option value="모름">모름</option>
                            </select>
                        </div>
                    </div>
                </div>
                <!--흡연-->
                <div class="sumchoice">
                    <div class="sumchoice_age">
                        <label class="label" >흡연</label>
                        <div class="love_choice_option">
                            <select name="smoke"id="smoke" class="" required>
                                <option value="">흡연 유무를 체크해주세요</option>
                                <option value="흡연자">흡연자</option>
                                <option value="비흡연자">비흡연자</option>
                            </select>
                        </div>
                    </div>
                </div>
                <!-- 직장 -->
                <div class="sumchoice">
                    <div class="sumchoice_age">
                        <label class="label" >직장</label>
                        <div class="love_choice_option">
                            <select  name ="job" id="job" class="">
                                <option value="" selected>직업을 선택해 주세요</option>
                                <option value="전문직">전문직</option>
                                <option value="공기업">공기업</option>
                                <option value="공무원">공무원</option>
                                <option value="대기업">대기업</option>
                                <option value="중소기업">중소기업</option>
                                <option value="자영업">자영업</option>
                                <option value="학생">학생</option>
                                <option value="무직">무직</option>
                            </select>
                        </div>
                    </div>
                </div>
                <!-- 연봉 -->
                <div class="sumchoice">
                    <div class="sumchoice_age">
                        <label class="label" >연봉</label>
                        <div class="love_choice_option">
                            <select name="income"id="income" class="">
                                <option value="">연봉을 체크해주세요</option>
                                <option value="3천 미만">3천 미만</option>
                                <option value="3천~5천">3천~5천</option>
                                <option value="5천~1억">5천~1억</option>
                                <option value="1억 이상">1억 이상</option>
                            </select>
                        </div>
                    </div>
                </div>
                <!-- 자가 -->
                <div class="sumchoice">
                    <div class="sumchoice_age">
                        <label class="label" >자가</label>
                        <div class="love_choice_option">
                            <select name="houseExist" id="houseExist" class="">
                                <option value="">자가 유무를 체크해주세요</option>
                                <option value="자가 있음">유</option>
                                <option value="자가 없음">무</option>
                            </select>
                        </div>
                    </div>
                </div>
                <!-- 선택하기 끝 --->

                <!-- 취미 -->
                <div class="sumchoice">
                    <div class="sumchoice_age">
                        <label class="label"  >취미</label>
                        <div class="input">
                            <input name="hobby" type="text"  value="" required >
                        </div>
                    </div>
                </div>

                <!-- 이상형 -->
                <div class="sumchoice">
                    <div class="sumchoice_age">
                        <label class="label">이상형</label>
                        <div class="input">
                            <input name="idealContent"type="text" maxlength='15'  placeholder="15자 이내로 작성 부탁드립니다." required >
                        </div>
                    </div>
                </div>
                <!-- 자기소개  -->
                <div class="sumchoice">
                    <div class="sumchoice_age">
                        <label class="label"  >자기소개</label>
                        <div class="input">
                            <textarea id="test" name="selfIntroduce"type="text" minlength="30"placeholder="40자 이내 작성 부탁드립니다."  required ></textarea>
                            <div id="test_cnt">(0 / 40)</div>
                        </div>
                    </div>
                </div>

                <div class="field">
                    <h4 style="color: burlywood;font-weight: bold;">위의 설문을 완료하셨다면 썸썸에서 사용하실 사진을 올려주세요!</h4>
                    <div class="filebox">
                        <input class="upload-name" value="썸썸에 당신의 사진을 올려주세요" disabled="disabled">

                        <label for="ex_filename">업로드</label>
                        <input type="file" name="files" multiple  id="ex_filename" class="upload-hidden">
                    </div>


                </div>
                <div class="field">
                    <div class="result">
                        <ul></ul>
                    </div>
                </div>
                <ul class="actions special">
                    <li><input type="submit" class="button btn-hover color-10" value="등록" /></li>

                </ul>



                </form>
            </div>
        </div>

</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
<!-- 쪽지 -->
<input class="channel-talk-button" onclick="showPopup();"/>
<!-- 쪽지 -->

</body>
<script src="//code.jquery.com/jquery-1.8.3.min.js"></script>
<script src="love.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>


    let regex = new RegExp("(.*?)\.(exe|sh|zip|alz)$");
    let maxSize = 5242880; // 5MB
    const result = $("div.result ul");

    function checkExtension(fileName, fileSize){
        if(regex.test(fileName)){
            alert("(" + fileName + ")업로드 할 수 없는 파일의 형식입니다.")
            return false;
        }

        if(fileSize >= maxSize){
            alert("(" + fileName + ")파일 사이즈 초과")
            return false;
        }

        return true;
    }

    $("input[type='submit']").on("click", function(e){
        e.preventDefault();

        let $form = $("form#registForm");
        let str = "";

        $.each($(".result ul li"), function(i, li){
            str += "<input type='hidden' name='fileList[" + i + "].fileName' value='" + $(li).data('name') +"'>"
            str += "<input type='hidden' name='fileList[" + i + "].originalFileName' value='" + $(li).data('original') +"'>"
            str += "<input type='hidden' name='fileList[" + i + "].uploadDirectory' value='" + $(li).data('directory') +"'>"
            str += "<input type='hidden' name='fileList[" + i + "].image' value='" + $(li).data('image') +"'>"
        });

        $form.append(str).submit();
    })

    //업로드 전
    let arFile = Array.from($("input[type='file']")[0].files);

    $("input[type='file']").on("change", function(e){
        let formData = new FormData();
        let input = $("input[name='files']"); // 업로드 후
        let files = input[0].files;
        console.log(files);
        for(let i=0; i<files.length; i++){
            if(checkExtension(files[i].name, files[i].size)){
                formData.append("files", files[i]);
            }
        }
        const dataTransfer = new DataTransfer();

        //사용자가 업로드한 파일들의 정보를 전역변수인 arFile에 담아놓기
        Array.from($(input[0].files)).forEach(file => arFile.push(file));
        //전역변수의 전체 파일들을 FileList타입으로 변경
        arFile.forEach(file => dataTransfer.items.add(file));
        //input태그에 그 동안 업로드했던 모든 파일의 정보로 덮어 씌우기
        input[0].files = dataTransfer.files;

        $.ajax({
            url: "/upload/uploadAjax",
            type: "post",
            data: formData,
            processData: false,
            contentType: false,
            success: function(fileList){
                showUploadFile(fileList);
            }
        });
    });

    function showUploadFile(fileList){
        let str = "";
        $.each(fileList, function(i, file){
            str += "<li data-name='" + file.fileName + "' data-original='" + file.originalFileName + "' data-directory='" + file.uploadDirectory + "' data-image='" + file.image + "'>";
            str += "<span data-name='" + file.originalFileName + "' data-path='" + file.uploadDirectory + "/t_" + file.fileName + "' style='cursor: pointer;'>x</span>";/*position: relative;top:252px;left:205px*/
            str += "<a href='/upload/download?path=" + file.uploadDirectory + "/" + file.fileName + "'>"
            str += file.image ? "<img  style='border-radius: 70%' src='/upload/display?path=" + file.uploadDirectory + "/t_" + file.fileName + "'>"
                : "<img src='/images/attach.png' width='100'>";
      /*      str += "</a><p>" + file.originalFileName + "</p>";*/
            str += "</li>";
        });

        result.append(str);
    }

    $(".result").on("click", "span", function(e){
        let path = $(this).data("path");
        let li = $(this).closest("li");
        //x버튼을 눌렀을 때 삭제될 파일의 원본 이름
        let fileName = $(this).data("name");
        console.log(fileName);
        $.ajax({
            url: "/upload/delete",
            type: "delete",
            data: {path: path},
            success: function(){
                const dataTransfer = new DataTransfer();
                li.remove();
                //원래 있었던 파일들에서
                for(let i=0; i<arFile.length; i++){
                    //삭제한 파일의 이름과 동일한 파일을 검사
                    if(arFile[i].name == fileName){
                        //삭제된 파일은 기존 파일들에서 삭제시켜야 한다.
                        arFile.splice(i, 1);
                    }
                }

                //삭제된 파일을 제외한 나머지 파일들을
                arFile.forEach(file => dataTransfer.items.add(file));
                //input태그에 다시 담아준다.
                $("input[type='file']")[0].files = dataTransfer.files;
            }
        });
    });








    /*//////////////////////////////////////////////////////////////////////////////////////////////////////////*/
    /* 쪽지 팝업창 */
    function showPopup() { window.open("/list", "a", "width=400, height=600, left=1500, top=200"); }

    function tabOpen(evt, contentName){
        var i, tabcontent, tab_btn;

        tabcontent = document.getElementsByClassName("myInfo");
        for(i = 0; i<tabcontent.length; i++){ //내용을 나열
            tabcontent[i].style.display = "none";
        }

        tab_btn = document.getElementsByClassName("tabs");
        for(i = 0; i<tab_btn.length; i++){ // 탭 버튼 나열

            //탭 버튼을 눌렀을 때 기존 탭 class 삭제
            tab_btn[i].className = tab_btn[i].className.replace(" active","");


        }
        //탭을 눌렀을 때 해당 id의 내용을 출력
        document.getElementById(contentName).style.display = "block";
        //class 생성 이벤트 발생
        evt.currentTarget.className += " active";
    }




    //글자 수 제한 자기소개부분
    $(document).ready(function() {
        $('#test').on('keyup', function() {
            $('#test_cnt').html("("+$(this).val().length+" / 40)");

            if($(this).val().length > 40) {
                $(this).val($(this).val().substring(0, 40));
                $('#test_cnt').html("(40 / 40)");
            }
        });
    });





    function btn(){
        alert('썸썸 이상형 매칭 설문을 작성완료하셨습니다');
    }



</script>
</html>